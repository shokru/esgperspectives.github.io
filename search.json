[{"path":"index.html","id":"Introduction","chapter":"\n1 Introduction\n","heading":"\n1 Introduction\n","text":"","code":""},{"path":"index.html","id":"intro1","chapter":"\n1 Introduction\n","heading":"\n1.1 What is in this book and who is it for\n","text":"","code":""},{"path":"index.html","id":"intro2","chapter":"\n1 Introduction\n","heading":"\n1.2 The target audience\n","text":"","code":""},{"path":"index.html","id":"intro3","chapter":"\n1 Introduction\n","heading":"\n1.3 Foreword\n","text":"","code":"\n\n# The code below extracts data from bib file and plots journal counts\nlibrary(tidyverse)                          # Package for data wrangling\ndf <- read_delim(\"bib.bib\", delim = \"@\")    # Read bib file\ndf_book <- df[,2] %>%                       # From names:\n  na.omit()                               # Remove missing points\ncolnames(df_book) <- \"type\"                 # Change column names\ndf <- df[,1] %>%                            # From publication types:\n  na.omit() %>%                           # Remove missing\n  filter(length(X1)>1) %>%                # Keep long types\n  mutate(X1 = substr(X1, 3, length(X1)))  # Remove first 2 characters\ndf <- strsplit(df$X1, \"=\")                  # Split types before/after \"=\"\ndf <- df %>% unlist()                       # Switch to dataframe\n\njour <- which(df == \"journal\")              # Focus on journals only\njour <- df[jour+1]                          # Index of journals\njour <- str_replace_all(jour, \",\", \"\")      # Remove commas\njour <- str_replace_all(jour, \"\\\\{\", \"\")    # Remove brackets {\njour <- str_replace_all(jour, \"\\\\}\", \"\")    # Remove brackets }\njour <- data.frame(jour = jour)             # Create dataframe\njour %>%                                    # Long pipe that creates plot\n  group_by(jour) %>%                      # Group by journal\n  summarise(n = n()) %>%                  # Count\n  mutate(jour = str_remove(jour, \"\\\\\\\\\")) %>%\n  filter(n > 4) %>%\n  ggplot(aes(x = reorder(jour, n), y = n)) + \n  geom_col(fill = \"#86B991\", alpha = 0.9) + \n  theme_light() +\n  coord_flip() +\n  scale_y_log10() +\n  theme(axis.title.y=element_blank()) + \n  geom_text(aes(label = n), hjust = 1.5, color = \"white\") +\n  ylab(\"Number of articles (logscale)\") \n\n# The code below plots the evolution of publication intensity\nyear <- which(df == \"year\")                  # Extract year data\nyear <- df[year+1]                           # Index of year\nyear <- str_replace_all(year, \",\", \"\")       # Remove commas\nyear <- str_replace_all(year, \"\\\\{\", \"\")     # Remove bracket\nyear <- str_replace_all(year, \"\\\\}\", \"\")     # Remove bracket\nyear <- data.frame(year = as.numeric(year))  # Convert to dataframe\nyear %>%                                     # Piping flow for the plot\n  group_by(year) %>%                         # For each year...\n  summarise(n = n()) %>%                     # ... count the # of instance\n  filter(year > 1989) %>%                    # Keep only > 1989\n  ggplot(aes(x = year, y = n)) + geom_col(fill = \"#86B991\", alpha = 0.9) + \n  theme_light() + theme(axis.title.y=element_blank()) + xlab(\"Year\") "},{"path":"index.html","id":"intro4","chapter":"\n1 Introduction\n","heading":"\n1.4 Previous surveys and meta studies\n","text":"","code":""},{"path":"ESGdata.html","id":"ESGdata","chapter":"2 ESG Data","heading":"2 ESG Data","text":"","code":""},{"path":"Investors.html","id":"Investors","chapter":"3 Investors and SRI","heading":"3 Investors and SRI","text":"","code":""},{"path":"Perf.html","id":"Perf","chapter":"4 ESG investing and financial performance","heading":"4 ESG investing and financial performance","text":"","code":""},{"path":"Quant.html","id":"Quant","chapter":"5 Quantitative portfolio construction with ESG data and criteria","heading":"5 Quantitative portfolio construction with ESG data and criteria","text":"","code":""},{"path":"Climate.html","id":"Climate","chapter":"6 Climate change risk","heading":"6 Climate change risk","text":"","code":""},{"path":"Equilibrium.html","id":"Equilibrium","chapter":"7 SRI in economic equilibria","heading":"7 SRI in economic equilibria","text":"","code":""}]
