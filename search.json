[{"path":"index.html","id":"Introduction","chapter":"1 Introduction","heading":"1 Introduction","text":"","code":""},{"path":"index.html","id":"intro1","chapter":"1 Introduction","heading":"1.1 What is in this book and what is the target audience","text":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor reprehenderit voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt culpa qui officia deserunt mollit anim id est laborum","code":""},{"path":"index.html","id":"intro3","chapter":"1 Introduction","heading":"1.2 Foreword","text":"","code":"\n# The code below extracts data from bib file and plots journal counts\nlibrary(tidyverse)                          # Package for data wrangling\ndf <- read_delim(\"bib.bib\", delim = \"@\")    # Read bib file\ndf_book <- df[,2] %>%                       # From names:\n  na.omit()                                 # Remove missing points\ncolnames(df_book) <- \"type\"                 # Change column names\ndf <- df[,1] %>%                            # From publication types:\n  na.omit() %>%                             # Remove missing\n  filter(length(X1)>1) %>%                  # Keep long types\n  mutate(X1 = substr(X1, 3, length(X1)))    # Remove first 2 characters\ndf <- strsplit(df$X1, \"=\")                  # Split types before/after \"=\"\ndf <- df %>% unlist()                       # Switch to dataframe\n\njour <- which(df == \"journal\")              # Focus on journals only\njour <- df[jour+1]                          # Index of journals\njour <- str_replace_all(jour, \",\", \"\")      # Remove commas\njour <- str_replace_all(jour, \"\\\\{\", \"\")    # Remove brackets {\njour <- str_replace_all(jour, \"\\\\}\", \"\")    # Remove brackets }\njour <- data.frame(jour = jour)             # Create dataframe\njour %>%                                    # Long pipe that creates plot\n  group_by(jour) %>%                        # Group by journal\n  summarise(n = n()) %>%                    # Count\n  mutate(jour = str_remove(jour, \"\\\\\\\\\")) %>%\n  filter(n > 4) %>%\n  ggplot(aes(x = reorder(jour, n), y = n)) + \n  geom_col(fill = \"#86B991\", alpha = 0.9) + \n  theme_light() +\n  coord_flip() +\n  scale_y_log10() +\n  theme(axis.title.y=element_blank()) + \n  geom_text(aes(label = n), hjust = 1.5, color = \"white\") +\n  ylab(\"Number of articles (logscale)\")  \n# The code below plots the evolution of publication intensity\nyear <- which(df == \"year\")                  # Extract year data\nyear <- df[year+1]                           # Index of year\nyear <- str_replace_all(year, \",\", \"\")       # Remove commas\nyear <- str_replace_all(year, \"\\\\{\", \"\")     # Remove bracket\nyear <- str_replace_all(year, \"\\\\}\", \"\")     # Remove bracket\nyear <- data.frame(year = as.numeric(year))  # Convert to dataframe\nyear %>%                                     # Piping flow for the plot\n  group_by(year) %>%                         # For each year...\n  summarise(n = n()) %>%                     # ... count the # of instance\n  filter(year > 1989) %>%                    # Keep only > 1989\n  ggplot(aes(x = year, y = n)) + geom_col(fill = \"#86B991\", alpha = 0.9) + \n  theme_light() + theme(axis.title.y=element_blank()) + xlab(\"Year\")  "},{"path":"index.html","id":"intro4","chapter":"1 Introduction","heading":"1.3 Previous surveys and meta studies","text":"","code":""},{"path":"ESGdata.html","id":"ESGdata","chapter":"2 ESG Data","heading":"2 ESG Data","text":"","code":"\nlibrary(gtrendsR)                 # Package for Google trends\nlibrary(lubridate)                # Package for date management\ntrends <- gtrends(                # Extract data\n    keyword = c(\"ESG\", \"CSR\"),    # For keywords ESG and CSR\n    time = \"all\")                 # Over all time periods\n\ntrends[[1]] %>%\n    mutate(year = year(date)) %>%\n    group_by(year, keyword) %>%\n    summarise(score = mean(hits)) %>%\n    ggplot(aes(x = year, y = score, group = keyword, color = keyword)) + \n    geom_line() + geom_point(aes(shape = keyword), size = 2) + theme_light() +\n    scale_color_manual(values = c(\"#688185\", \"#000000\")) + \n    theme(text = element_text(size=15)) +\n    annotate(geom = \"text\", x = 2006.5, y = 25, label= \"ESG not yet \\n a green acronym\", color=\"black\", size = 4) +\n    geom_segment(aes(x = 2004, y = 24.8, xend = 2009, yend = 24.8), color = \"black\", linetype = 2) +\n    geom_segment(aes(x = 2009, y = 24.8, xend = 2015, yend = 24.8), color = \"black\", linetype = 2) +\n    geom_segment(aes(x = 2004, y = 22, xend = 2004, yend = 28), color = \"black\", size = 1.5) +\n    geom_segment(aes(x = 2009, y = 22, xend = 2009, yend = 28), color = \"black\", size = 1.5) +\n    geom_segment(aes(x = 2015, y = 22, xend = 2015, yend = 28), color = \"black\", size = 1.5) +\n    annotate(geom = \"text\", x = 2012, y = 25, label= \"ESG  \\n slow diffusion\", color=\"black\", size = 4) +\n    annotate(geom = \"text\", x = 2017, y = 25, label= \"ESG \\n acceleration\", color=\"black\", size = 4) "},{"path":"Investors.html","id":"Investors","chapter":"3 Investors and SRI","heading":"3 Investors and SRI","text":"","code":""},{"path":"Perf.html","id":"Perf","chapter":"4 ESG investing and financial performance","heading":"4 ESG investing and financial performance","text":"","code":""},{"path":"Quant.html","id":"Quant","chapter":"5 Quantitative portfolio construction with ESG data and criteria","heading":"5 Quantitative portfolio construction with ESG data and criteria","text":"","code":""},{"path":"Climate.html","id":"Climate","chapter":"6 Climate change risk","heading":"6 Climate change risk","text":"","code":""},{"path":"Equilibrium.html","id":"Equilibrium","chapter":"7 SRI in economic equilibria","heading":"7 SRI in economic equilibria","text":"","code":""}]
